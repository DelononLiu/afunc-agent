afunc_name: generate-cmakelists
description: 根据项目信息和旧的 Makefile 数据，生成 CMakeLists.txt 文件。
tools: [read, write]
capability: |
  此 AFunc 的能力是接收原始 Makefile 的解析数据（来自 read-makefile），并据此生成一个功能等效的 CMakeLists.txt 文件内容。
inputs:
  - name: Makefile 解析数据
    description: 来自 read-makefile AFunc 的输出。
outputs:
  - name: CMakeLists.txt 的完整内容
    description: 包含生成的 CMakeLists.txt 文件内容的字符串。
constraints:
  - **严格遵循指令**：必须严格按照 `instructions` 字段中的每一条指令执行，不得省略任何步骤
  - 新生成的 CMakeLists.txt 必须与旧的 Makefile 功能等效。]
  - 禁止add_custom_target自定义的`clean`、`test`、`all`等target
  - 禁止使用cmake `install()`函数
instructions:
  - 记录日志到文件 prompts.log，内容为：start afunc {afunc_name} at YYYY-MM-DD HH:MM:SS
  - 将 `(path to makefile_info)` 文件内容中的变量、库文件、源文件、头文件路径和编译选项映射到相应的 CMake 命令。
  - 生成 `CMakeLists.txt` 的完整内容，并保存到 `(path to project)/CMakeLists.txt` 文件。
  - 将 `(path to project)/CMakeLists.txt` 的路径作为 'CMakeLists.txt 的完整内容' 的值，更新到`{task_name}`任务文档的 `Runtime Context` 中。
  