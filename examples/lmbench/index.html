<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>大模型性能基准测试数据展示 - PC大屏版</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- DataTables CSS -->
    <link href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="styles.css" rel="stylesheet">
</head>
<body>
    <!-- Loading Spinner -->
    <div class="loading-spinner">
        <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">加载中...</span>
        </div>
    </div>

    <div class="container-fluid">
        <div class="row">
            <!-- 左侧筛选面板 -->
            <div class="col-md-2 sidebar p-2">
                <div class="p-2">
                    <h5 class="mb-3">
                        <i class="fas fa-filter me-1"></i>数据筛选
                    </h5>
                        
                        <!-- 数据加载区域 -->
                        <div class="filter-section">
                            <h6 class="mb-1">数据加载</h6>
                            <div class="mb-2">
                                <label for="dataFile" class="form-label filter-label">选择数据文件</label>
                                <input type="file" class="form-control" id="dataFile" accept=".json">
                            </div>
                            <button class="btn btn-primary w-100 btn-sm" onclick="loadData()">
                                <i class="fas fa-upload me-1"></i>加载数据
                            </button>
                        </div>
                        
                        <!-- 模型筛选 -->
                        <div class="filter-section">
                            <h6 class="mb-1">模型筛选</h6>
                            <div class="mb-2">
                                <label for="modelFilter" class="form-label filter-label">模型名称</label>
                                <select class="form-select filter-select" id="modelFilter">
                                    <option value="">全部</option>
                                </select>
                            </div>
                        </div>
                        
                        <!-- 框架筛选 -->
                        <div class="filter-section">
                            <h6 class="mb-1">框架筛选</h6>
                            <div class="mb-2">
                                <label for="frameworkFilter" class="form-label filter-label">推理框架</label>
                                <select class="form-select filter-select" id="frameworkFilter">
                                    <option value="">全部</option>
                                </select>
                            </div>
                        </div>
                        
                        <!-- 序列长度筛选 -->
                        <div class="filter-section">
                            <h6 class="mb-1">序列长度</h6>
                            <div class="mb-2">
                                <label for="inputSeqFilter" class="form-label filter-label">输入序列长度</label>
                                <input type="range" class="form-range" id="inputSeqFilter" min="0" max="1000" step="100">
                                <small class="text-muted">当前: <span id="inputSeqValue">0</span></small>
                            </div>
                            <div class="mb-3">
                                <label for="outputSeqFilter" class="form-label filter-label">输出序列长度</label>
                                <input type="range" class="form-range" id="outputSeqFilter" min="0" max="100" step="100">
                                <small class="text-muted">当前: <span id="outputSeqValue">0</span></small>
                            </div>
                        </div>
                        
                        <!-- 指标筛选 -->
                        <div class="filter-section">
                            <h6 class="mb-1">显示指标</h6>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="showPrefill" checked>
                                <label class="form-check-label" for="showPrefill">Prefill耗时 (ms)</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="showDecode" checked>
                                <label class="form-check-label" for="showDecode">Decode耗时 (ms)</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="showTotal" checked>
                                <label class="form-check-label" for="showTotal">总耗时 (ms)</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="showTPS" checked>
                                <label class="form-check-label" for="showTPS">Token/s</label>
                            </div>
                        </div>
                        
                        <button class="btn btn-secondary w-100 btn-sm" onclick="resetFilters()">
                            <i class="fas fa-undo me-1"></i>重置筛选
                        </button>
                    </div>
                </div>
                
                <!-- 主内容区域 -->
                <div class="col-md-10 p-2">
                    <div class="main-content p-3">
                        <!-- 顶部导航 -->
                        <div class="d-flex justify-content-between align-items-center mb-5">
                            <h1 class="h4 mb-0">
                                <i class="fas fa-chart-line me-1"></i>大模型性能基准测试数据
                            </h1>
                            <div class="d-flex gap-2">
                                <button class="btn btn-outline-primary btn-sm" onclick="showComparison()">
                                    <i class="fas fa-chart-bar me-1"></i>对比分析
                                </button>
                                <button class="btn btn-outline-success btn-sm" onclick="exportData()">
                                    <i class="fas fa-download me-1"></i>导出数据
                                </button>
                            </div>
                            </div>
                            
                            <!-- 统计卡片 -->
                        <div class="row mb-5">
                            <div class="col-md-3">
                                <div class="metric-card">
                                    <div class="metric-value" id="totalBenchmarks">0</div>
                                    <div class="metric-label">总测试数</div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="metric-card">
                                    <div class="metric-value" id="avgPrefill">0</div>
                                    <div class="metric-label">平均Prefill (ms)</div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="metric-card">
                                    <div class="metric-value" id="avgDecode">0</div>
                                    <div class="metric-label">平均Decode (ms)</div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="metric-card">
                                    <div class="metric-value" id="avgTPS">0</div>
                                    <div class="metric-label">平均Token/s</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- 数据表格 -->
                        <div class="p-5">
                            <h5 class="mb-2">性能数据详情</h5>
                            <div class="table-responsive">
                                <table id="performanceTable" class="table table-striped table-hover data-table">
                                    <thead>
                                        <tr>
                                            <th>模型</th>
                                            <th>框架</th>
                                            <th>输入序列</th>
                                            <th>输出序列</th>
                                            <th>Prefill (ms)</th>
                                            <th>Decode (ms)</th>
                                            <th>总耗时 (ms)</th>
                                            <th>Token/s</th>
                                            <th>内存 (MB)</th>
                                            <th>吞吐量</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <!-- 数据将通过JavaScript动态加载 -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        
                        <!-- 对比分析图表 -->
                        <div class="p-5" id="comparisonSection" style="display: none;">
                            <h5 class="mb-2">对比分析</h5>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="chart-container">
                                        <canvas id="frameworkComparisonChart"></canvas>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="chart-container">
                                        <canvas id="modelComparisonChart"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
    <!-- DataTables JS -->
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Custom JS -->
    <script src="common.js"></script>
    <script src="dataHandler.js"></script>
    <script src="filterChart.js"></script>
    <script src="dataExport.js"></script>
    <script src="sampleData.js"></script>
    
    
</body>
</html>